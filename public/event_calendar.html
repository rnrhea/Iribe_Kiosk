<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Calendar</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <style>
        .return {
            position: relative;
            margin-left: 10px;
            margin-top: 20px;
            text-align: center;
        }

        .card {
            text-align: center;
        }
        .btnimg {
            position: absolute;
            left: 2.5px;
            top: 50%;
            transform: translateY(-50%);
        }
        
        .top {
            display: flex;
            justify-content: flex-start;
            position: relative;
            left: 8px;
            bottom: -15px;
        }

        .top2 {
            display: flex;
            justify-content: flex-start;
            position: relative;
            left: 65px;
            bottom: -15px;
        }

        .top3 {
            display: flex;
            justify-content: flex-start;
            position: relative;
            left: 122px;
            bottom: -15px;
        }

        .top4 {
            display: flex;
            justify-content: flex-start;
            position: relative;
            left: 179px;
            bottom: -15px;
        }
		.shortcut {
            position: relative;
            padding: 20px 20px;
            text-align: center;
            background-color: #FFD520;
            
        }
		body.noscroll{
            position:fixed;
            overflow:hidden;
            background-image: url(images/UMDbar.jpg); 
            background-position: top;
            background-attachment: fixed; 
            background-repeat: no-repeat;
        }
        h1 {
            margin: 10px
        }
    </style>
</head>

<body class="noscroll">
    <!-- <button class="return btn btn-outline-dark rounded-0" onclick="window.location.href = './index.html'" style="position:absolute">
        <img class="btnimg" src="images/return-icon.png" alt="" />
        Return to Welcome
    </button> -->
    <div class ="top">
        <button class="shortcut" onclick="window.location.href = './index.html'" style="position:absolute">
            <img class="btnimg" src="images/home.png" alt="" />
        </button>
    </div>

    <div class ="top2">
        <button class="shortcut" onclick="window.location.href = './iribe_map.html'" style="position:absolute">
            <img class="btnimg" src="images/floor.png" alt="" />
        </button>
    </div>

    <div class ="top3">
        <button class="shortcut" onclick="window.location.href = './campus_map.html'" style="position:absolute">
            <img class="btnimg" src="images/UMDLocationMap.png" alt="" />
        </button>
    </div>

    <div class ="top4">
        <button class="shortcut" onclick="window.location.href = './faculty_directory.html'" style="position:absolute">
            <img class="btnimg" src="images/search_shortcut.png" alt="" />
        </button>
    </div>
    


    <div>
        <h1 style="text-align:center; color:white">IRB News Events</h1>
	</div>
    <br /><br /><br />
    <div class="container">
        <div class="row">

            <div class="col-md-7">
                <div class="card">
                    
                    <div class="row">
                    <button class="btn btn-outline-primary col-md-1 offset-md-1" id="previous"
                            onclick="previous()">&lt;</button>
                    <h3 class="card-header col-md-8" id="monthAndYear"></h3>
                    <button class="btn btn-outline-primary col-md-1" id="next" onclick="next()">&gt;</button>
                </div>
                    <table class="table table-bordered table-responsive-sm" id="calendar">
                        <thead>
                            <tr>
                                <th>Sun</th>
                                <th>Mon</th>
                                <th>Tue</th>
                                <th>Wed</th>
                                <th>Thu</th>
                                <th>Fri</th>
                                <th>Sat</th>
                            </tr>
                        </thead>

                        <tbody id="calendar-body">

                        </tbody>
                    </table>

                    <br />
                    <form class="form-inline">
                        <label class="lead mr-2 ml-2" for="month">Jump To: </label>
                        <select class="form-control col-sm-4" name="month" id="month" onchange="jump()">
                            <option value=0>January</option>
                            <option value=1>February</option>
                            <option value=2>March</option>
                            <option value=3>April</option>
                            <option value=4>May</option>
                            <option value=5>June</option>
                            <option value=6>July</option>
                            <option value=7>August</option>
                            <option value=8>September</option>
                            <option value=9>October</option>
                            <option value=10>November</option>
                            <option value=11>December</option>
                        </select>


                        <label for="year"></label><select class="form-control col-sm-4" name="year" id="year"
                            onchange="jump()">
                            <option value=2019>2019</option>
                            <option value=2020>2020</option>
                            <option value=2021>2021</option>
                        </select></form>
                </div>
            </div>
            <div class="col-md-5">
                <table>
                    <thead><h3 id="event_head">Events November 2</h3></thead>
                    <tbody id="event_body">
                        <tr><h5>PhD Defense: Learning With Minimal Supervision: New Meta-Learning and Reinforcement Learning Algorithms</h5>
                            <p>13:30 to 15:30 <br /> Amr Sharaf </p>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <!--<button name="jump" onclick="jump()">Go</button>-->
    <script>
        let today = new Date();
        let currentMonth = today.getMonth();
        let currentYear = today.getFullYear();
        let selectYear = document.getElementById("year");
        let selectMonth = document.getElementById("month");

        let months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];

        let monthAndYear = document.getElementById("monthAndYear");
        showCalendar(currentMonth, currentYear);
        updateEvent();

        function next() {
            currentYear = (currentMonth === 11) ? currentYear + 1 : currentYear;
            currentMonth = (currentMonth + 1) % 12;
            showCalendar(currentMonth, currentYear);
        }

        function previous() {
            currentYear = (currentMonth === 0) ? currentYear - 1 : currentYear;
            currentMonth = (currentMonth === 0) ? 11 : currentMonth - 1;
            showCalendar(currentMonth, currentYear);
        }

        function jump() {
            currentYear = parseInt(selectYear.value);
            currentMonth = parseInt(selectMonth.value);
            showCalendar(currentMonth, currentYear);
        }

        function select(dayNumber) {
            today = new Date(currentYear, currentMonth, dayNumber);
            showCalendar(currentMonth, currentYear);
            updateEvent();
        }

        function updateEvent(){
            let eventDay = document.getElementById("event_head");
            eventDay.innerHTML = "Events on " + months[today.getMonth()] + " " + today.getDate();

        }
        
        function showCalendar(month, year) {

            let firstDay = (new Date(year, month)).getDay();
            let daysInMonth = 32 - new Date(year, month, 32).getDate();

            let tbl = document.getElementById("calendar-body"); // body of the calendar

            // clearing all previous cells
            tbl.innerHTML = "";

            // filing data about month and in the page via DOM.
            monthAndYear.innerHTML = months[month] + " " + year;
            selectYear.value = year;
            selectMonth.value = month;

            // creating all cells
            let date = 1;
            for (let i = 0; i < 6; i++) {
                // creates a table row
                let row = document.createElement("tr");

                //creating individual cells, filing them up with data.
                for (let j = 0; j < 7; j++) {
                    if (i === 0 && j < firstDay) {
                        let cell = document.createElement("td");
                        let cellText = document.createTextNode("");
                        cell.appendChild(cellText);
                        row.appendChild(cell);
                    }
                    else if (date > daysInMonth) {
                        break;
                    }

                    else {
                        let cell = document.createElement("td");
                        cell.setAttribute("onclick", "select("+date+")")
                        let cellText = document.createTextNode(date);
                        if (date === today.getDate() && year === today.getFullYear() && month === today.getMonth()) {
                            cell.classList.add("bg-info");
                        } // color today's date
                        cell.appendChild(cellText);
                        row.appendChild(cell);
                        date++;
                    }


                }

                tbl.appendChild(row); // appending each row into calendar body.
            }

        }
    </script>

    <!-- Bootstrap CSS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script>
</body>

</html>